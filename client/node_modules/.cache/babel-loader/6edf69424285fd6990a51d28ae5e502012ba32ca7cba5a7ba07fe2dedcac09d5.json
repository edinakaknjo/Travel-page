{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./css/addTravel.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Travels=()=>{const clear={naziv:'',slika:'',opis:'',polazak:'',povratak:''};const[travel,setTravel]=useState([]);const[newTravel,setNewTravel]=useState({naziv:'',slika:'',opis:'',polazak:'',povratak:''});const uloga=localStorage.getItem('uloga');const navigate=useNavigate();useEffect(()=>{allTravels();},[]);const allTravels=async()=>{try{const response=await axios.get('http://localhost:3001/api/travels');setTravel(response.data);}catch(error){console.error('Error fetching travel',error);}};const handlePromjenaUnosa=event=>{const{name,value}=event.target;setNewTravel({...newTravel,[name]:value});};const addTravel=async()=>{if(Object.values(newTravel).some(value=>value==='')){alert('Please fill out all fields.');return;}try{const token=await localStorage.getItem('token');await axios.post('http://localhost:3001/api/travels/dodaj',newTravel,{headers:{Authorization:\"Bearer \".concat(token)}});setNewTravel(clear);alert('Putovanje uspješno dodano');}catch(error){console.error('Error adding new travel',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"travel-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dodaj putovanje\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addTravel,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"naziv\",children:\"Destinacija:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-style\",type:\"text\",name:\"naziv\",value:newTravel.naziv,onChange:handlePromjenaUnosa})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"slika\",children:\"Slika URL:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-style\",type:\"text\",name:\"slika\",value:newTravel.slika,onChange:handlePromjenaUnosa})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"opis\",children:\"Opis:\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"input-style\",name:\"opis\",value:newTravel.opis,onChange:handlePromjenaUnosa})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"polazak\",children:\"Polazak:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-style\",type:\"date\",name:\"polazak\",value:newTravel.polazak,onChange:handlePromjenaUnosa})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"povratak\",children:\"Povratak:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input-style\",type:\"date\",name:\"povratak\",value:newTravel.povratak,onChange:handlePromjenaUnosa})]}),/*#__PURE__*/_jsx(\"button\",{className:\"dugme\",type:\"submit\",children:\"Dodaj putovanje\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"dugme\",onClick:()=>navigate('/home'),children:\"Back to Home\"})]});};export default Travels;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Travels","clear","naziv","slika","opis","polazak","povratak","travel","setTravel","newTravel","setNewTravel","uloga","localStorage","getItem","navigate","allTravels","response","get","data","error","console","handlePromjenaUnosa","event","name","value","target","addTravel","Object","values","some","alert","token","post","headers","Authorization","concat","className","children","onSubmit","htmlFor","type","onChange","onClick"],"sources":["C:/Users/User/webtravel256/client/src/pages/travels.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './css/addTravel.css';\r\n\r\nconst Travels = () => {\r\n    const clear = {\r\n        naziv: '',\r\n        slika: '',\r\n        opis: '',\r\n        polazak: '',\r\n        povratak: ''\r\n    }\r\n\r\n    const [travel, setTravel] = useState([]);\r\n    \r\n    const [newTravel, setNewTravel] = useState({\r\n        naziv: '',\r\n        slika: '',\r\n        opis: '',\r\n        polazak: '',\r\n        povratak: ''\r\n    });\r\n    const uloga = localStorage.getItem('uloga');\r\n    const navigate = useNavigate();\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        allTravels();\r\n    }, []);\r\n\r\n    const allTravels= async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:3001/api/travels');\r\n            setTravel(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching travel', error);\r\n        }\r\n    };\r\n    \r\n    const handlePromjenaUnosa = (event) => {\r\n        const { name, value } = event.target;\r\n        setNewTravel({ ...newTravel, [name]: value });\r\n    };\r\n    \r\n    \r\n    const addTravel = async () => {\r\n        if (Object.values(newTravel).some(value => value === '')) {\r\n            alert('Please fill out all fields.');\r\n            return;\r\n        }\r\n        try {\r\n            const token = await localStorage.getItem('token');\r\n            await axios.post('http://localhost:3001/api/travels/dodaj', newTravel, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`\r\n                }\r\n            });\r\n            setNewTravel(clear);\r\n            alert('Putovanje uspješno dodano');\r\n        } catch (error) {\r\n            console.error('Error adding new travel', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"travel-form-container\">\r\n          <h2>Dodaj putovanje</h2>\r\n          <form onSubmit={addTravel}>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"naziv\">Destinacija:</label>\r\n              <input className='input-style'\r\n                type=\"text\"\r\n                name=\"naziv\"\r\n                value={newTravel.naziv}\r\n                onChange={handlePromjenaUnosa}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"slika\">Slika URL:</label>\r\n              <input className='input-style'\r\n                type=\"text\"\r\n                name=\"slika\"\r\n                value={newTravel.slika}\r\n                onChange={handlePromjenaUnosa}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"opis\">Opis:</label>\r\n              <textarea className='input-style'\r\n                name=\"opis\"\r\n                value={newTravel.opis}\r\n                onChange={handlePromjenaUnosa}\r\n              ></textarea>\r\n            </div>\r\n             <div className=\"form-group\">\r\n              <label htmlFor=\"polazak\">Polazak:</label>\r\n              <input className='input-style'\r\n                type=\"date\"\r\n                name=\"polazak\"\r\n                value={newTravel.polazak}\r\n                onChange={handlePromjenaUnosa}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"povratak\">Povratak:</label>\r\n              <input className='input-style'\r\n                type=\"date\"\r\n                name=\"povratak\"\r\n                value={newTravel.povratak}\r\n                onChange={handlePromjenaUnosa}\r\n              />\r\n            </div>\r\n            <button className='dugme' type=\"submit\">Dodaj putovanje</button>\r\n          </form>\r\n          <br/>\r\n          <button className='dugme' onClick={() => navigate('/home')}>Back to Home</button>\r\n        </div>\r\n      );\r\n    \r\n}\r\nexport default Travels;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}