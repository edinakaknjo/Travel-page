{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import'./css/Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[lozinka,setLozinka]=useState('');const navigate=useNavigate();//ne radi mi login ?? ne znam što \nconst handleLogin=async()=>{try{const response=await axios.post('http://localhost:3001/api/users/login',{email,lozinka});localStorage.setItem('token',response.data.token);localStorage.setItem('uloga',response.data.uloga);if(response.data){navigate('/home');console.log('Login successful');}else{console.log('Login failed');}}catch(error){alert('Pogrešan email ili lozinka');}};const registracija=()=>{navigate('/register');};const gost=()=>{navigate('/home');};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login-title\",children:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"text\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"login-input\",type:\"password\",placeholder:\"Lozinka\",value:lozinka,onChange:e=>setLozinka(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",onClick:handleLogin,children:\"Login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"guest-button\",onClick:gost,children:\"Guest\"}),/*#__PURE__*/_jsx(\"button\",{className:\"register-button\",onClick:registracija,children:\"Registracija\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","lozinka","setLozinka","navigate","handleLogin","response","post","localStorage","setItem","data","token","uloga","console","log","error","alert","registracija","gost","className","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/User/webtravel256/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './css/Login.css';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [lozinka, setLozinka] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  //ne radi mi login ?? ne znam što \r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const response = await axios.post('http://localhost:3001/api/users/login', {\r\n        email,\r\n        lozinka,\r\n      });\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem('uloga', response.data.uloga);\r\n      if (response.data) {\r\n        navigate('/home');\r\n        console.log('Login successful');\r\n      } else {\r\n        console.log('Login failed');\r\n      }\r\n    } catch (error) {\r\n      alert('Pogrešan email ili lozinka');\r\n    } \r\n  };\r\n\r\n  const registracija = () => {\r\n    navigate('/register');\r\n  };\r\n\r\n\r\n  const gost = () => {\r\n    navigate('/home');\r\n  };\r\n\r\n \r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n    <h1 className='login-title'>Login</h1>\r\n    <input className=\"login-input\" type=\"text\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n    <input className=\"login-input\" type=\"password\" placeholder=\"Lozinka\" value={lozinka} onChange={(e) => setLozinka(e.target.value)} />\r\n    \r\n    <div className=\"buttons-container\">\r\n      <button className='login-button' onClick={handleLogin}>Login</button>\r\n      <button className='guest-button' onClick={gost}>Guest</button>\r\n      <button className='register-button' onClick={registracija}>Registracija</button>\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B;AAEA,KAAM,CAAAY,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,IAAI,CAAC,uCAAuC,CAAE,CACzEP,KAAK,CACLE,OACF,CAAC,CAAC,CACFM,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,QAAQ,CAACI,IAAI,CAACC,KAAK,CAAC,CAClDH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,QAAQ,CAACI,IAAI,CAACE,KAAK,CAAC,CAClD,GAAIN,QAAQ,CAACI,IAAI,CAAE,CACjBN,QAAQ,CAAC,OAAO,CAAC,CACjBS,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CACjC,CAAC,IAAM,CACLD,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC7B,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,KAAK,CAAC,4BAA4B,CAAC,CACrC,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBb,QAAQ,CAAC,WAAW,CAAC,CACvB,CAAC,CAGD,KAAM,CAAAc,IAAI,CAAGA,CAAA,GAAM,CACjBd,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAID,mBACEN,KAAA,QAAKqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAChCxB,IAAA,OAAIuB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cACtCxB,IAAA,UAAOuB,SAAS,CAAC,aAAa,CAACE,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,OAAO,CAACC,KAAK,CAAEvB,KAAM,CAACwB,QAAQ,CAAGC,CAAC,EAAKxB,QAAQ,CAACwB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAC1H3B,IAAA,UAAOuB,SAAS,CAAC,aAAa,CAACE,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,SAAS,CAACC,KAAK,CAAErB,OAAQ,CAACsB,QAAQ,CAAGC,CAAC,EAAKtB,UAAU,CAACsB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAEpIzB,KAAA,QAAKqB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCxB,IAAA,WAAQuB,SAAS,CAAC,cAAc,CAACQ,OAAO,CAAEtB,WAAY,CAAAe,QAAA,CAAC,OAAK,CAAQ,CAAC,cACrExB,IAAA,WAAQuB,SAAS,CAAC,cAAc,CAACQ,OAAO,CAAET,IAAK,CAAAE,QAAA,CAAC,OAAK,CAAQ,CAAC,cAC9DxB,IAAA,WAAQuB,SAAS,CAAC,iBAAiB,CAACQ,OAAO,CAAEV,YAAa,CAAAG,QAAA,CAAC,cAAY,CAAQ,CAAC,EAC7E,CAAC,EACH,CAAC,CAER,CAAC,CAED,cAAe,CAAArB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}